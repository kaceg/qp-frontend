$leftborderspace: 5px;

.qtopnav {
    a { text-decoration:none}
    .navbar { border-left-width: 0; border-right-width: 0; font-family: $font-family-sans-serif-bold; margin-bottom: 50px; }
    &__line { border-bottom: 3px solid $red; position: absolute; left: 0; bottom: -1px; width: 100%; }
    &__overlapline { border-bottom: 3px solid $black; position: absolute; width: 100%; right: 100%; top: 73px; z-index: 1; }
    &__overlaplinewrapper, &__linewrapper { position: relative; }
    .navbar-brand { padding-top: 10px; padding-bottom: 10px; }
    .navbar-brand svg { max-height: 100%; }
    .navbar-header { float: left; }
    .navbar-toggle { margin-top: 14px; margin-bottom: 12px; margin-right: 5px; margin-left: 5px; border: 0 none;
        .icon-bar { height: 3px; }
        &:hover, &:focus {
            .icon-bar { background-color: $red; }
        }
        &:not(.collapsed) {
            .icon-bar:nth-child(2) { transform: rotate(45deg) translate(5px, 5px); height: 4px; }
            .icon-bar:nth-child(3) { opacity: 0; }
            .icon-bar:nth-child(4) { transform: rotate(-45deg) translate(5px, -6px); height: 4px; }
        }
    }
    .navbar-nav > li > a { padding: 18px; }
    .has-leftborder { border-left: 1px solid $gray-worm; padding: 0 $leftborderspace; }
    .has-rightborder { border-right: 1px solid $gray-worm; }
   
}

.qtopnav__userlogin { background: $white;
    .fa:first-child { margin-right: 5px; }
    &__name { max-width: 240px;text-overflow: ellipsis;white-space: nowrap;display: inline-block;overflow: hidden;vertical-align: middle; }
}

.qtopnav__superbar__languageselect { width: 45px; margin-left: 20px; float: right;
    select {  text-transform: uppercase;}
    option { padding: 7px 0 7px 5px; text-transform: uppercase; }
}
.qtopnav__superbar__search { float: right;
    .form-group { float: left; position: relative; }
    .btn { float: left; background: transparent; }
    .btn:focus, .btn:hover { color: $red; }
    .btn:active { box-shadow: none !important}
    .widthsetter { font-size: 14px; height: 33px; padding: 5px 0; line-height: 1.5; margin: 0; font-weight: 400; min-width: 100px; opacity: 0; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
    .form-control { position: absolute; top: 0; }
}
@media (max-width: $screen-xs-min) {
   .qtopnav__superbar__search  .widthsetter { max-width: 170px;  }
} 
@media (min-width: $screen-md-min) and (max-width: $screen-md-max) {
    .qtopnav__userlogin__name { max-width: 140px;}
} 

.qtopnav__alwayson { float:right; margin-top:0; margin-bottom:0;
    > li { float: left;}
}

@media (min-width: $screen-md-min) {
    .qtopnav__userlogin { border-right: 1px solid $gray-worm; }
    .qtopnav .navbar-nav > li > a { padding: 24px 15px; }
    .qtopnav .navbar { min-height: 77px; }
    .qtopnav .navbar-header { margin-top:8px}
    .qtopnav__willleave .has-leftborder { margin-left: $leftborderspace}
}

@media (max-width: $screen-sm-max) {
	.qtopnav__alwayson { margin-right:0;}
	.container-fluid > .navbar-collapse.qtopnav__willleave { margin: 0 -30px;}
	.qtopnav__willleave { float: none !important;clear: both;text-align: center;}
	.qtopnav__willleave .navbar-nav { margin-top:0;margin-bottom:0;}
	.qtopnav__willleave .navbar-nav > li > a  { padding: 14px; border-bottom: 1px solid $gray-worm; border-left: 0 none;}
	.qtopnav__willleave .navbar-nav > li:last-child a{border-bottom: 0 none; }
	.qtopnav__line {bottom: auto; top: 60px; }
	.qtopnav__overlapline { bottom: auto; top: 60px; }
}
@media (max-width: $screen-xs-max) {
    .qtopnav__alwayson { margin-right:0;}
    .container-fluid > .navbar-collapse.qtopnav__willleave { margin: 0 -20px;}
}

.navbar-nav > li > .dropdown-menu { margin-top: -2px;  padding: 10px 0;border: 1px solid $gray-worm;
    .divider { margin: 10px 0;background-color: $gray-worm;}
}
.qtopnav__userlogin.dropdown  a { border-color:$gray-worm !important;} // to counteract the red border that bootstrap puts on mobile. 

// reset the bootstrap behaviour 
@media (min-width: $screen-sm-min) and (max-width: $screen-sm-max) {
    .qtopnav__userlogin.dropdown  { 
        &.open .dropdown-menu {position: absolute;margin-top: -3px;  border: 1px solid $gray-worm; background:$white; box-shadow: 1px 4px 7px rgba(0,0,0,0.1); }
    }
}


/**************************************
	NEW DESIGN - NOT YET VISIBLE
**************************************/

.qtopnav.new {
	.navbar {
		background-color: transparent !important;
		border: 0 !important;
		margin-bottom: 20px;
		
		.navbar-header,
		.navbar-nav {
			padding: 20px 0;
			
			a.active {
				color: $red;
			}
		}
	}
	
	.qtopnav__overlapline {
		top: 0;
		border-width: 4px;
	}
	
	.qtopnav__line {
		top: 0;	
		bottom: auto;
		border-width: 4px;
	}
	
	.user-menu {
		.icon {
			float: left;
			
			img {
				display: block;
				height: 26px;
				width: auto;
				margin: 2px 10px 0 0;
			}
		}
		.info {
			float: left;
			font-size: 0.89em;
			line-height: 1em;
			font-family: $font-family-sans-serif;
			
			.user {
				color: $gray-dark;
			}
			.role {
				color: $red;
			}
		}
		.arrow {
			float: left;
			margin-left: 10px;
			
			i {
				margin-right: 0;
				line-height: 30px;
			}
		}
	}
}